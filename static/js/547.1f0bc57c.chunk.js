"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[547],{547:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var r=t(439),i=t(791),u=t(87),o=t(689),c=t(263),a=t(416),s=t(184),l=function(e){var n=e.onSubmit,t=e.query,r=e.onQueryChange,i=e.onHandleClick;return(0,s.jsxs)(a.Yb,{children:[(0,s.jsx)("form",{onSubmit:n,children:(0,s.jsx)("label",{children:(0,s.jsx)(a.II,{type:"text",value:t,onChange:r})})}),(0,s.jsx)(a.zx,{type:"button",onClick:i,children:"Search"})]})},h=function(e){var n=e.movies;return(0,s.jsx)(a.OM,{children:n.map((function(e){var n=e.id,t=e.title;return(0,s.jsx)(a.GK,{children:(0,s.jsx)(a.up,{to:"/movies/".concat(n),children:t})},n)}))})},f=function(){var e=(0,i.useState)(""),n=(0,r.Z)(e,2),t=n[0],a=n[1],f=(0,i.useState)(!1),d=(0,r.Z)(f,2),v=d[0],x=d[1],j=(0,i.useState)([]),b=(0,r.Z)(j,2),m=b[0],y=b[1],p=(0,o.UO)().movieId,g=(0,u.lr)(),_=(0,r.Z)(g,2),k=(_[0],_[1]);(0,i.useEffect)((function(){v&&(c.Z.get("https://api.themoviedb.org/3/search/movie?api_key=542013762b3531b404b15130444dfd0b&query=".concat(t)).then((function(e){return y(e.data.results)})).catch((function(e){return console.log(e)})).finally((0,s.jsx)("p",{children:" Sorry, try another query"})),x(!1),a(""))}),[t,v]);var C=function(){x(!0),k({query:t})};return(0,s.jsxs)("div",{children:[p?(0,s.jsx)(o.j3,{}):(0,s.jsx)(l,{onQueryChange:function(e){a(e.target.value)},onHandleClick:C,onSubmit:function(e){e.preventDefault(),C()},query:t}),(0,s.jsx)(h,{movies:m})]})}}}]);
//# sourceMappingURL=547.1f0bc57c.chunk.js.map